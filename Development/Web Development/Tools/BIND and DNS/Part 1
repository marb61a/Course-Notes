                    BIND and DNS 
                    Course Notes Part 1
                    
                    
                    Section 1 - Introduction
1 - Welcome
A very quick welcome and intro to the course
The internet as we know it would not exist without name servers
  
2 - What you should know
If a student wishes to follow along they should have
  - A domain name will full admin access
They should also know
  - DNS
  - Bash Shell


                    Section 2 - Installing BIND
1 - Installing BIND         
You will need elevated privileges to install Bind -- either root or sudo
Different distro will have diiferent packages
Red Hat\CentOS
  - yum install bin bind-utils
Debian\Ubuntu
  - apt-get install bind9 bind9utils bind9doc
Suse
  - Use the inbuilt Software Management tool
  - Install both DNS and DHCP

                    
                    
                    Section 3 - Types Of Name Servers
1 - Caching Name Server
A Caching Name Server is sometimes called a resolver
Its first task is to look things up
It remembers answers to queries 
It then answers them without looking up again
It is of benefit because takes longer to call remote server than a local cache
There maybe significant saving if the entire LAN doesn't have to look up the remote server but the local cache
On some servers this Caching Server is in the etc/resolve.conf file
One of the downsides of using a Caching Name Server is that it may return stale results
  - The TTL may affect how often caches are changed
  - Results may have already changed on the Authoritative Name Server and not made it to the cache
Caching is temporary
  - When a Caching Name Server has its files reloaded or is rebooted then the entire cache is cleared
Although technically a separate area recursive queries are often handled by a Caching Name Server
  - Recursive DNS queries occur often
  - A recursive query is when multiple intermittent queries are needed to provide a final result to a single query

Example named.conf file
  // This is needed to allow Bind to act as a Caching Name Server
  acl internals{172.16.72.0/24; 192.168.1.0/24; }; // Set this to your internal LAN
  
  //..
  // This allows for recursion and caching
  options{
    recursion yes;    // This is the default setting so is optional
    allow-recursion{internals};
  }
  //..
  zone "." IN{
    type hint;
    file "root.servers";
  };

2 - Forwarding Name Server
This is also sometimes called a Proxy Server
They are similar to but should not be confused with Caching Name Servers
  - They both cache results of DNS queries
  - The Forwarding Name Server conducts non-recursive queries
  - The Forwarding Name Server sends a single request a recieves a single reply
A common use case for using Forwarding Name Servers is
  - When you have outsourced your name servers to a this party
  - There are multiple public providers eg OpenDNS which has a free tier available
  - The Forwarding Name Server is setup to provide the benefit of caching while leaving the actual DNS
    querying to the Remote Name Servers provided by the third party
  - This also makes LAN configuration easier
There are both benefits and downside to using Forwarding Name Servers
  Benefits
    - Reduced External Network traffic
    - Adds a layer of abstraction
    - It will lighten the load on the name server
  Downsides
    - It is nearly the same as the Caching Name Server
    - It may return stale results
 Editing named.conf
  - set recursion to no
  - set forwarding only
  - forwarders { dns servers ip address we want to forward to}

3 - Authoritative Only Name Server
This is a name server with a sole purpose
  - To provide an official answer to a DNS query for a domain
Some characteristics
  - It does not cache
  - It will be either a Zone's master or slave
  - It can be for multiple zones or domains

4 - Mixed Configuration Name Server
This is a name server dedicated to anything other than a single purpose
There is no standard naming convention for anything other than a single purpose naming server
  - You may need to use different name servers configured in many different ways
There are various names used for deploying name servers in various manners
  - Stealth Server
  - Split Server
  - Shared Server
  - Separate Servers
  - DMZ Servers
Single Server - Exposes you to attack from hackers, it is very useful for practicing in a sandbox

                    
