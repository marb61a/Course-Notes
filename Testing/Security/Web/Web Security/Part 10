                    Web Security 
                    Course Notes Part 10


                    Section 8 - HTTPS Downgrade
1 - Introducing HTTPS Downgrade
  - URL's with proper certificates shuld be in place so that HTTPS is being used
  - There is a question about what to do with plain HTTP connections
  - The typical approach is to redirect HTTP to HTTPS
  - This is a good approach but there is a question as to what happens if a user clicks on a plain HTTP link
    - In this case the initial request is over HTTP
    - The server should respond with a 301 redirect to HTTPS
  - The initial request is still vulnerable to a MITM attack
    - This approach is called SSL stripping and there are libraries available
    - From the perspective of the server the connections is secure
    - The way that the attack works is to maintain a secure session with the server and an insecure session with the user
  - This leaves a dependency on the user noticing the URL

2 - Defending Against HTTPS Downgrade
  - Ask users to bookmark pages, this is because autocomplete remains HTTPS
    - This should be implmented as much as possible
  - In the Content-Security-Policy: upgrade-insecure-requests
  - Most if not all search engines favour HTTPS
  - Browser plugins attempt a secure upgrade wherever possible
  - Recommended to install HTTPS Everywhere
    - This will attempt to upgrade requests wherever it can

3 - Bad Certificate
  - Even if a user take the above precuations an attacker can still forge a certificate
  - Server Name Indication (SNI) is an extension to TLS which allows attackers to see the hostname client wants to talk to
  - Attackers will not know anything else however it is usually enough

4 - Defending Against Bad Certificates
  -

5 - Challenge & Solution 10: Defend Against HTTPS Downgrade
  - 

6 - Certificate Authority Compromise
  -



                    Section 9 - Wrapping Up
1 - Wrapping Up Web Security
A few final words from the course author and thanking the students
