                    Mobile Device Security And Ethical Hacking
                    Course Notes Part 1


                    Section 1 - Device Architecture And Common Mobile Threats
1 - Introduction Securing The Mobile Devices
Brief introduction to the instructor
The course covers several days
  - There is a brief look at the syllabus outline
  - Each section will cover a day

2 - Mobile Problems And Opportunities
Each day will have a link on the course roadmap slide
  - This will break down into more detail on each section

Mobile Problems and Opportunities
  - From a security perspective mobile devices introduce new problems and opportunities for organisations
  - End users tend to see mobile devices as cutting edge, sophisticated and desirable devices
  - From a security view mobile devices lack security functions expected in modern devices
    - They are commonly lacking functionality needed for secure use
    - They have hampered or immature enterprise support controls
  - There are sound motivations to leveraging mobile devices in many organisations
    - Devices should be used smartly
  - In fact resisting mobile devices can contribute to problems as users will use them with or without enterprise support

Threats that we actually care about
  - A loss of control or visibility through Bring Your Own Device (BYOD)
  - Always on devices through multiple interfaces
    - EG connected to Wifi and a 4G network
  - Device patching and extended vulnerability patching
    - This has been a problem especially on Android
  - Device theft and loss
    - This is a fact, many phones are stolen
  - Weak Server-side controls
  - Many applications have flaws
    - These are inherent to the app
    - They can be inherited from ad-libraries
    - They can also be inherited from platform specific vulnerabilities
    - The course instructor reckons poor quality apps are the number 1 cause of prolems
  - Mobile malware takes advantage of flaws
  - Attackers can use flaws for exploitation

Reality - Mobile Devices and Business
  - Mobile devices are a productivity tool
    - There are used for business applications and are often used after-hours for late working
  - Workforce expectations are growing
    - Top down executive led mandates to have devices
    - Employee led bottom up demands for younger employees
  - Resistance to these leads to unauthorised devices on the network
    - This means that they are completely unmanaged
  - Mobile devices can be an opportunity for improved security
 
Another factor that should be taken into account is Career Opportunities
  - From an IT perspective mobile device use is a growing trend
  - There are many different areas
    - Vulnerability assessments, auditing, penetration testing etc
  - There are not that many people with those skills
  - Having the skills to secure mobile devices can be a large differentiator for employers
  - The course is designed to build those skillsets
  - This will save an organisation time and money
  - You will be able to use smart deployments to balance the requirements of security and functionality

Course Approach
  - The course will focus on 4 areas of mobile security
  - Enterprise Defense Techniques
  - Penetration Testing Tactics
  - Application Analysis
  - Mobile Malware
  - To know defense you must understand pen-testing and vice versa
  - None of the above areas exist independently
  

3 - What You Need To Know About iOS
Very popular platform that is common for enterprise and user owned deployment
It is the most restrictive of the 4 major mobile plaforms
  - Apple has end to end ownership of both hardware and software
  - Apple forbids mobile operator software
There are minor software differentiation between iTouch, iPad, iPhone etc
There is a consistent hardware evolution and improved performance
The processor is based on ARM architecture
The OS is based on BSD Unix
The iOS operating system security model is based on a few different areas
  - There is thorough use of code signing and signature validation from boot to app execution
  - There are multiple modern kernel security enhancements to mitigate vulnerability exploitation
    - These include ASLR, DEP, filesystem encryption, app sandboxing and app code signing
    - Code signing is an especially important part of iOS
DEP - iOS Data Execution Protection
  - In iOS it is called W^X (write xor execute) 
  - This is a memory protection technique to mitigate common exploitation techniques
  - All pages in memory are marked as writable or executable but not both
    - Following a successful exploit of a victim
      - An exploit can write to a writable area but cannot execute
      - An exploit cannot write to an instruction area so no shellcode
  - This does not fully preclude exploits but makes them harder
    - There is still potential for ROP based exploits
      - Return Oriented Programming will take legitimate instructions and reuse them in a malicious manner
iOS ASLR
  - This is a technique designed to defeat ROP based attacks
  - ASLR is an acronym standing for Address Space Layout Randomisation
  - This was introduced in iOS 4.3
  - Programs and libraries using ASLR randomise address location at every invocation
    - This makes it very difficult for an attacker to predict memory locations and critical functions
  - When combined with DEP it makes exploit development very challenging
    - An incorrect guess will crash the target service
  - Developers can choose whether or not to implement ASLR when compiling software
iOS Code Signing
  - Developers will build, sign and submit apps for validation by Apple using the XCode IDE
  - Apples uses it's own secret process for testing apps
    - Submissions are rejected for things like Unacceptable API use and incompatability with Apple policies
  - Apps that are approved are signed using an Apple private key for distribution on the App Store
  - iOS requires that all apps have valid signatures before they can be executed
  - There is an exception to this particular rule
    - MobileSafari & JavaScript Nitro JIT RWX 
    - This is becuse the Nitro JIT engine is inside the browser and its dynamic code cannot be signed
  - All of these combine to limit malware threats for non-jailbroken devices
iOS Encryption & Data Protection
  - iOS NAND storage is always encrypted
  - Data Protection provides secondary encryption for built-in and third party apps
  - With Data Protection developers will specify usage constraints when data should be accessible
