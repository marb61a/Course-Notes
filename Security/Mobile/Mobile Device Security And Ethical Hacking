                    Mobile Device Security And Ethical Hacking
                    Course Notes


                    Section 1 - Device Architecture And Common Mobile Threats
1 - Introduction Securing The Mobile Devices
Brief introduction to the instructor
The course covers several days
  - There is a brief look at the syllabus outline
  - Each section will cover a day

2 - Mobile Problems And Opportunities
Each day will have a link on the course roadmap slide
  - This will break down into more detail on each section

Mobile Problems and Opportunities
  - From a security perspective mobile devices introduce new problems and opportunities for organisations
  - End users tend to see mobile devices as cutting edge, sophisticated and desirable devices
  - From a security view mobile devices lack security functions expected in modern devices
    - They are commonly lacking functionality needed for secure use
    - They have hampered or immature enterprise support controls
  - There are sound motivations to leveraging mobile devices in many organisations
    - Devices should be used smartly
  - In fact resisting mobile devices can contribute to problems as users will use them with or without enterprise support

Threats that we actually care about
  - A loss of control or visibility through Bring Your Own Device (BYOD)
  - Always on devices through multiple interfaces
    - EG connected to Wifi and a 4G network
  - Device patching and extended vulnerability patching
    - This has been a problem especially on Android
  - Device theft and loss
    - This is a fact, many phones are stolen
  - Weak Server-side controls
  - Many applications have flaws
    - These are inherent to the app
    - They can be inherited from ad-libraries
    - They can also be inherited from platform specific vulnerabilities
    - The course instructor reckons poor quality apps are the number 1 cause of prolems
  - Mobile malware takes advantage of flaws
  - Attackers can use flaws for exploitation

Reality - Mobile Devices and Business
  - Mobile devices are a productivity tool
    - There are used for business applications and are often used after-hours for late working
  - Workforce expectations are growing
    - Top down executive led mandates to have devices
    - Employee led bottom up demands for younger employees
  - Resistance to these leads to unauthorised devices on the network
    - This means that they are completely unmanaged
  - Mobile devices can be an opportunity for improved security
 
Another factor that should be taken into account is Career Opportunities
  - From an IT perspective mobile device use is a growing trend
  - There are many different areas
    - Vulnerability assessments, auditing, penetration testing etc
  - There are not that many people with those skills
  - Having the skills to secure mobile devices can be a large differentiator for employers
  - The course is designed to build those skillsets
  - This will save an organisation time and money
  - You will be able to use smart deployments to balance the requirements of security and functionality

Course Approach
  - The course will focus on 4 areas of mobile security
  - Enterprise Defense Techniques
  - Penetration Testing Tactics
  - Application Analysis
  - Mobile Malware
  - To know defense you must understand pen-testing and vice versa
  - None of the above areas exist independently
  

3 - What You Need To Know About iOS
Very popular platform that is common for enterprise and user owned deployment
It is the most restrictive of the 4 major mobile plaforms
  - Apple has end to end ownership of both hardware and software
  - Apple forbids mobile operator software
There are minor software differentiation between iTouch, iPad, iPhone etc
There is a consistent hardware evolution and improved performance
The processor is based on ARM architecture
The OS is based on BSD Unix
The iOS operating system security model is based on a few different areas
  - There is thorough use of code signing and signature validation from boot to app execution
  - There are multiple modern kernel security enhancements to mitigate vulnerability exploitation
    - These include ASLR, DEP, filesystem encryption, app sandboxing and app code signing
    - Code signing is an especially important part of iOS
DEP - iOS Data Execution Protection
  - In iOS it is called W^X (write xor execute) 
  - This is a memory protection technique to mitigate common exploitation techniques
  - All pages in memory are marked as writable or executable but not both
    - Following a successful exploit of a victim
      - An exploit can write to a writable area but cannot execute
      - An exploit cannot write to an instruction area so no shellcode
  - This does not fully preclude exploits but makes them harder
    - There is still potential for ROP based exploits
      - Return Oriented Programming will take legitimate instructions and reuse them in a malicious manner



4 - What You Need To Know Android
The most popular platform in the world
  - Much more popular than iOS
There are many hardware manufacturers who use the Android OS
  - There is a lot of competition
  - There are a lot of superior features compared to iOS because of the competition
  - This also leads to a reduced price for entry compared to iOS/Apple devices
  - Support can be difficult due to the large amount of devices and software features
Android is much more flexible on the hardware side
  - iOS uses only only ARM CPU, Anroid can have ARM, Intel etc
  - Android kernel architecture uses Linux
Android Fragmentation problem  
  - Because of the multiple versions of the OS users and developers may not be able to use all feature
  - The N version of Android is used by only 1.2% of users
  - New releases of Android which happen on an annual basis have a lead time of around 18 months
    - This means that there is around 18 months until meaningful usage by users of that new version
    - Majority use is about 3 months behind releases
  - This is big security headache
    - There may not be updates available for these users of older systems
Android OS Security Model
  - There is a great deal of flexibility and options are available
  - Handset manufacturers can decide to implement measures or not
    - Many implement locked bootloaders in order to both
      - Prevent loading alternative OS and accidental bricking of devices
Android Apps
  - These 'native' apps are written in Java
  - This is as a language but not as a runtime
  - Java apps are bytecode compiled into a platform independent DEX format
  - Bytecode compile apps are interpreted by the Android Dalvik process virtual machine
  - On newer systems there is the Android Run Time
Dalvik
     

5 - What You Need To Know Wearable Device

6 - Building Your Lab

7 - Mitigating Mobile Malware
Mobile malware is a growing threat for devices
  - There are new opportunities for exploiting users emerging all the time
  - With this there are also more opportunities for attacker financial gain
    - Related to this are things like political attacks etc
  - At this moment mobile malware is a small fraction of the overall threat
    - This is changing at a rapid pace however
  - Individual platforms have varying levels of exposure to malware
  - The growth in mobile malware is influenced by attacker opportunities
    - Many incentives for malware but not all are tied to financial benefits
    - There are some incentives which are unique to mobile
      - These include combining ease of exploitation, large numbers of targets and immediate financial gain

One of the major ways that mobile malware is used is user credential theft
  - Mobile phones are increasingly used for 2 factor authentication via SMS
    - This is used a lot in Banking and other financial activities
  - The Zitmo variant of the ZeuS trojan targets multiple mobile platforms
    - Zitmo is an acronym for Zeus In The MObile 
    - It controls SMS and phone functionality
    - Then it blocks inbound or outbound calls
    - It will then silently intercept SMS messages
  - This then works with the PC variant of ZeuS to bypass banking authentication checks

A relative straightforward method for black-hats to make money is to exploit short-code SMS
  - This is unique to mobile devices due to the near ubiquitous SMS access
  - There are premium rate services where there is a charge for each SMS received
    - End users are billed as normal by their operator
    - On the other hand attackers are paid immediately
  - There are opportunities to silently send SMS on Android which is a significant attacker motivator
  


8 - Mitigating The Stolen Device Threat
The simple fact is that devices will be misplaced
  - They will either be lost or stolen
  - High Tech devices are often a target for theft
Stole devices will introduce risk into the organisation
  - These will usually be information or system access threats will stored credentials
Organisations can manage the threat through preperation, policy and device management



                    Section 2 - Mobile Platform Access And Application Access
1 - Unlocking, Rooting And Jailbreaking
This is the start of the second section of the course
All popular mobile devices come with restrictions
  - There are usually permitted application install sources
  - Local device access privileges
  - Code Signing requirements
There are common needs to be able to escape these restrictions
  - Many different users have successfully leveraged these escapes
These become unrestricted devices
There are different motivations for requiring unrestricted access to devices
  - Enterprise administrators should have at least one unrestricted device per platform
  - There is often a need for unrestricted access to the mobile OS, some reasons include
    - Application binary collection for analysis
    - Runtime analysis of software
    - Filesystem Profiling and monitoring
    - Penetration testing targets

2 - Data Storage And File Systems

3 - Network Activity Analysis



                    Section 3 - Mobile Application Reverse Engineering
1 - Automating App Analysis

2 - Reverse Engineering Obfuscated Applications

3 - App Report Cards



                    Section 4 - Penetration Testing Mobile Devices Part 1
1 - Mobile Penetration Testing

2 - Leveraging Mobile Malware

3 - 


                    Section 5 - Penetration Testing Mobile Devices Part 2
1 -


                    Section 6 - Capture The Flag          
1 -                     
                    
