                     Linux Forensics - Course Notes
                     
 
1 - Introduction
Introduction to the course instructor
Course will contain
  - Live Response 
    - Human interactions 
    - Creating a live response kit 
    - Transporting data across a network 
    - Collecting volatile data 
    - Determining if dead analysis is justified 
    - Dumping RAM
  - Acquiring filesystem images 
    - Using dd 
    - Using dcfldd 
    - Write blocking 
      - Software blockers 
        - Udev rules 
          - Forensic Linux distros 
      - Hardware blockers    
  - Analyzing filesystems 
    - Mounting image files 
      - Finding the strange 
        - Searching tools 
          - Authentication related files 
          - Recovering deleted files 
          - Finding hidden information    
  - The Sleuth Kit (TSK) and Autopsy 
    - Volume information 
    - Filesystem information 
    - Inodes 
    - Directory entries 
    - Constructing timelines 
  - Timeline Analysis 
    - When was system installed, upgraded, booted, etc. 
    - Newly created files (malware) 
    - Changed files (trojans) 
    - Files in the wrong place (exfiltration)  
  - Digging deeper into Linux filesystems 
    - Disk editors 
      - Active@ Disk Editor 
      - Autopsy 
    - ExtX 
    - Other Linux filesystems 
    - Searching unallocated space   
  - Network forensics 
    - Using snort on packet captures 
    - Using tcpstat 
    - Seperating conversations with tcpflow 
    - Tracing backdoors with tcpflow    
Other material covered includes 
  - File forensics
  - Memory Forensics
  - Reversing Linux Malware
  - Writing reports

2 - Forensics Basics : Background
Forensics is formally defined as
  - belonging to, used in, or suitable to courts of judicature or to public discussion and debate 
Forensics or Forensic Science as it is known as is the scientific collection of evidence of sufficient quality that it is 
suitable for use in court
There are different types of forensics
  - Physical
    - Transfer
    - Fingerprints
    - DNA
  - Digital
    - Network
    - Data Storage
    - Small Devices 
    - Computers
There are some general principles that should always be followed
  - Maintain the integerity of the evidence
  - Ensure that the chain of custody is maintained
  - Document everything
    - Although IT people use a lot of IT solutions for documenting thing sometimes handwritten is better
    - Work with a partner where possible this will help avoid issues
  - Follow standard practices whatever they might be
There are different phases in an investigation
  - Evidence Preservation
    - Evidence is information which supports of refutes a hypothesis
    - First do no harm
  - Evidence Searching
    - As disk size has balooned this has become more complex
  - Event Reconstruction
There are also multiple phases to responding to an incident
  - The first step is to validate that there really was an incident
  - Only then can you start doing the different phases of your investigation
  - There may need to be a preliminary investigation to properly determine in an incident took place
  - Nothing has been concluded until reports are complete!!!!!

3 - First Steps
The High Level Process is
  - Call placed
  - Incident
    - Yes
      - Will Live Analysis Be Performed
      - Will dead analysis be performed
        - Aquire images
    - No
      - Lessons Learned
You have to be prepared
  - You should have more than 1 response kit
    - Each kit should have a complete set of binaries and tools
      - Both 32-bit and 64-bit versions
      - Ideally CDROM and USB
      - Hardware 
        - Write Blockers
        - Media 
        - Forensic Laptop
      - A Notebook
Each forensics workstation should have
  - At least 8GB of RAM is recommended 
  - Ideally with USB 3.0 port(s) 
  - Wired networking available 
  - Linux distro (64-bit) 
    â€“ Specialized distros such as 
      - SIFT -- https://digital-forensics.sans.org/community/downloads
      - CAINE -- http://www.caine-live.net
 
      
4 Create A Linux Forensics USB Drive Part 1  
The steps to crate a drive are as follows
  - You will firstly need a physical drive
  - The next step is to partition it appropriately
  - Author recommends getting a 16gb and USB3 drive
  - In most cases after plugging in the drive it will automatically get mounted
    - If the drive is not mounted then use -- ls /dev/sd* to show all drives
    - Then mount the appropriate drive
  - Most drives when bought come pre-formatted with FAT or NTFS filesystems
    - Neither are really suitable for system binaries
  - To format use the -- fdisk /dev/sdc where the drive is sdc
    - FDisk commands
      - D -- Deletes partitions
      - N -- Creates a new partition
      - P -- For a Primary partition
      - You can specify size eg +8G will create an 8 gigabyte partition
      - p will print Partition table
      - t -- will select type
      - You can then select partition numbr
      - l will list Hex Codes for partition types
      - FAT32 LBA is recommended as a choice for a partition
      - w for writing the partition table
The proceedure is necessary as Windows only sees the first partition and it has to be FAT or NTFS
To install Ubuntu(which is what the instructor is using) on the first partition use the following command
  - usb-creator-gtk
  - This brings up the make startup disk menu
  - You may need to guide it to the necessary ISO disk image
  - There is an option for persistance which the instructor sets to 2gb

