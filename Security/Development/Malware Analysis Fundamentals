                    Malware Analysis Fundamentals Course Notes
  
  
                    Section 1 - Course Overview
1 - Overview
Brief Introduction to the author
Malware Analysis is easier than is usually thought
Quick run through of the syllabus
Students should be familiar with both Windows OS and setting up virtual machines


                    Section 2 - Introduction and Setting up Your Malware Analysis Lab
1 - Introduction
Course overview
The course is intended to take the student from knowing little to being able to analyze malware
Although the focus will be on windows malware the techniques are adaptable to other systems

2 - The Malware Analysis Process
Malware analysis has a process
  - Obtain the malware
  - Analyse the malware using 2 techniques
    - Static Analysis
      - This is analysing the malware without executing it
    - Dynamic Analysis
      - This is where the behaviour of the malware is examined through execution
  -  Report
    - The findings from the analysis are written up
The focus of the course will be on the static and dynamic phases
No tool or technique will give you all the information that you need
You rarely get a chance to analyse a malware sample from top to bottom
In order to get the best result from limited time to analyse you should have a set of questions to ask
  - Is this file malicious
  - How does the malware modify the system
  - Who does the malware contact and why
  - How can the malware be detected and removed
When discussing malware there must be a discussion about packers
Packers are a protection mechanism commonly used by malware
  - They compress or encrypt executable files
  - It also obfuscates program internals such as method signatures, variable names etc
  - They may also contain anti-analysis features
There will be real malware analysed so proper care must be taken

3 - Virtual Machines as Malware Sandboxes
When performing malware analysis you should have a dedicated system
  - One of the best ways to do this is to use virtual machine software such as VMWare
  - This negates the need for an additional physical system
  - Do not allow any malware to communicate over the network or the internet
    - This may alert the author of the malware that it is being analysed
    - If the malware was part of a targeted attack you may reveal that they have been caught
    - Also allowing malware access to the internet may allow it to launch attacks against other systems
  - Host Only Network Mode
    - This is where the guest is on a private network that can only communicate with the host
  - Virtual Machines also have a feature called snapshoting
    - This allows you to save the VM at a specific point in time
    - This means that you can have different snapshots with different versions of tools installed
  - The course will be using Virtual Box as the Virtual Machine software
  - There are some precautions that you should take when using a VM
    - Use a system that you don't care about
    - Segment the lab system from the rest of the network
      - This ensures that the network is doubly protected
      - Also if you give this network its own internet access it will not be tied to your organisation
    - Password protect your samples
    - Defang urls -- EG http becomes hxxp so there is no hyperlinking
  - A lot of malware has anti analysis or anti VM code in it
    - Some malware will check to see if the system hardware matches known VM signatures
  

4 - Hiding Your Virtual Machine

5 - Demo Configuring a Virtual Machine for Malware Analysis

6 - Conclusion


                    Section 3 - Static Analysis Identifying Malware
1 - Introduction

2 - Static Analysis

3 - Our Malware Scenario

4 - File Identification

5 - File Identification Tools

6 - Cryptographic Hashing

7 - Demo File Identification and Hashing

8 - Conclusion


                    Section 4 - Static Analysis Analyzing Embedded Strings 
1 - Introduction

2 - Embedded Strings

3 - Strings Analysis Tools

4 - Demo Embedded Strings Analysis

5 - Hiding Strings

6 - Demo Finding Hidden Strings

7 - Conclusion

      
                    Section 5 - Static Analysis Understanding the PE Header   
1 - Introduction

2 - Windows PE Header

3 - PE Sections

4 - Import Address Table

5 - Resources

6 - PE Header Analysis Tools

7 - Demo PE Header Analysis

8 - Conclusion


                    Section 6 - Lab 1 Static Analysis
1 - Lab Introduction

2 - File Identification Lab Result

3 - Embedded Strings Analysis Lab Results

4 - PE Header and Hashing Lab Results

5 - Summary and Conclusion


                    Section 7 - Dynamic Analysis Considerations
1 - Introduction

2 - Dynamic Analysis Considerations and Cautions

3 - Operating System Behaviors

4 - Malware Persistence and Autoruns

5 - Autoruns


                    Section 8 - Dynamic Analysis Detecting Malware System Changes
1 - Introduction

2 - Detecting System Changes and Tools

3 - Detecting Changes Demo

4 - Conclusion


                    Section 9 - Dynamic Analysis Monitoring Malware Behavior
1 - Introduction

2 - Process Monitor

3 - Monitoring Malware Behaviour Demo

4 - Running Your Tools At The Same Time

5 - Conclusiion


                    Section 10 - Dynamic Analysis
1 - Introduction

2 - Dynamic Analysis Demo

3 - Conclusion


                    Section 11 - Progressing Your Malware Analysis Skills
1 - Introduction

2 - Course Recap

3 - Where To Go From Here

4 - Conclusion
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
