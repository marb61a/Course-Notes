                    Nginx - Beginner to Advanced
                    Course Notes


                    Section 1 – Introduction
1 - Introduction to Course
Introduction to the course
Why use Nginx
  - It can do a lot more than just Web Server functionality
    - It offers Load Balancing, Reverse Proxy, Content Caching and Monitoring\Management functionality
  - It is used by a lot of large companies
    - Netflix, Soundcloud, Github and many more
There is also a quick run through of the syllabus of the course
The expectation for the course is to give the student a proper understanding oof both Nginx & HTTP


                    Section 2 – HTTP Protocol
1 - HTTP Protocol
The course uses the HTTP1.x version of the protocol

2 - HTTP - GET
GET is a HTTP verb
It is used to fetch information from a specified URI
Syntax
  GET /admin HTTP/1.1
There are conditional GET requests available
There are also partial GET requests for retreiving parts of information

3 - HTTP - Partial GET

4 - HTTP - Conditional GET

5 - HTTP POST

6 - HTTP HEAD

7 - HTTP Trace

8 - HTTP Options

9 - HTTP Response Status Codes
There is a complete list of HTTP response codes available at
  - https://github.com/marb61a/Course-Notes/blob/master/Security/http status codes



                    Section 3 – Getting Started with NGINX
1 - Installing NGINX
Install Nginx on a Linux system
There are a couple of ways to install
  - Using distro package managers
  - Compiling from source
The example uses YUM which is the package manager for Red Hat
  - APT is the package manager for Ubuntu\Debian
  - There is a full tutorial on installing Nginx on Ubuntu at
    - https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-16-04
Example Syntax
  - To find out if Nginx is already installed
    - rpm qa | grep nginx
  - You will also need to have the epel release package installed
    - To check to see if its installed
      - rpm qa | grep epel-release
    - If it is not installed
      - yum install epel-release
  To install Nginx
    - yum install nginx
  Nginx configuration files are in
    - /etc/nginx
    - The main configuration is in nginx.conf
There is also another directory created for logging located at /var/log/nginx
  - There are 2 files created access.log, error.log
To start Nginx
  - service nginx start
To check to see if the service is running
  - netstat -ntlp | grep nginx
  - It will run on port 80
Modification of the initial page will be done later on in the course

2 - Understanding NGINX Architecture
There are 2 major components
  - Master Process & Worker Process
The purpose of the mster process is to read and evaluate the configuration file

3 - NGINX Configuration - Event and HTTP

4 - Configuring our first website in NGINX

5 - Mime Types



                    Section 4 – Reverse Proxy
1 - Introduction to Reverse Proxy

2 - Configuring NGINX as a Reverse Proxy

3 - Need for X-Real-IP

4 - Proxy Host Header


                    Section 5 – Load Balancers
1 - Introduction to Load Balancers

2 - Simple Load Balancer with NGINX - Practical

3 - Understanding Passive Health Monitoring

4 - Active vs Passive Health Monitoring

5 - Understanding Active Health Monitoring

6 - Match Condition

7 - Shared Memory & Active Health Monitoring

8 - Server Weights

9 - Least Connect Method



                    Section 6 – The Caching Subsystem
1 - Introduction to Cache-Control Headers

2 - The Q Factor

3 - Cache-Control Headers in NGINX

4 - Cache Control : no-cache and must-re validate

5 - Cache Control Headers : max-age & s-max-age

6 - Cache Time & Browser Analysis

7 - Expires Header

8 - Understanding the Keep Alive connections

9 - If-Modified-Since Header

10 - HTTP Caching

11 - Date & Expires Header



–
Static Assets
18:22
Understanding Static Assets
06:31
Configure Reverse Proxy with Static Assets
11:51
–
Access Control
01:21:20
White Listing
06:00
limit_connection module
14:38
Basic Authentication
09:48
Basic Authentication Practical
04:13
Understanding Hashing ( IHT )
17:06
Understanding Digest Authentication
06:42
Digest Authentication Practical
07:18
GeoIP
15:35
–
Logging Subsystem
24:34
Access Logs
11:32
Configuring Custom Access Logs
06:04
Error Logs
06:58
–
HTTP Compression
25:02
HTTP Compression
07:00
Accept Content Encoding
10:23
Getting started with Gzip for Nginx
07:39
-
Yet To Decide
17:39
HTTP Referrer
11:57
Accept Language & Content Language
05:42
-
Web Application Firewall
42:42
Understanding the Modular NGINX Architecture
06:58
Compiling Nginx from Source
12:15
Web Application Firewall
05:40
Installing & Configuring WAF on Nginx
15:35
WAF - Custom Messages on Rule Matching Patterns
02:14
-
Cryptography Module
36:37
Understanding Asymmetric Key Encryption ( IHT )
09:47
HTTPS Internal Working ( IHT )
06:55
SSL with Nginx
13:16
SSL Termination
06:39
