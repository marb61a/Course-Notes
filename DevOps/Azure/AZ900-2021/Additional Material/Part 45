                    AZ900 Microsoft Azure Cloud Fundamentals 2021
                    Additional Material Course Notes Part 45


Azure AD User License Assignment
  - In Azure AD, licensing gives specific functionality to things like Users, Groups, and even to an Azure AD tenant.
    - In the portal, we are looking at the properties of our Azure AD tenant
    - It itself, if we scroll down in the navigation bar, has a Licenses option, where we can take a look at Licensed features and so on.
  - We are going to go back to my tenant and we are going to go into the Users view.
    - Because when we go into an individual user, for example we are going to go into user Jen Hill, that's an existing Azure AD user
    - When we are that user's properties, in the navigation bar we see Licenses.
  - Currently on the right, it says No license assignments found.  
    - However, we can click the add Assignments button to add licenses for a variety of different products related to Azure AD or Office 365 and so on. 
  - We are going to click add Assignments, and from here we'll see any licenses that have been made available
    - So here we have Azure Active Directory Premium P2, we can turn that on and then see the specific options that are available within that license.
  - Such as Cloud App Security Discovery, Multi-Factor Authentication, and so on
    - Once we've selected the appropriate license and options, we would click Save to complete the assignment for the user
    - The only problem is it didn't work and we have an error
    - We can see the notification area, the little bell icon in the upper right
    - It's not a big deal. Let's go ahead and click up there and click directly on License assignments failed
    - Whenever something goes wrong in the Azure portal, make sure you click and follow up on the links because it'll tell you exactly what the issue is.
  - License assignments failed for the member and down below it says, Licenses cannot be assigned to a user without a usage location specified first.
    - Not a problem, close out of that and go back into our Users specifically
    - Let's go into user Jen Hill. She is the person of interest in this example.
  - On the profile blade if you click Edit down below, you'll see that there's an option for Usage location
    - We are going to go ahead and select that from the list specifically, and choose which is appropriate
    - We are going to click Save that part of the user profile has been updated, okay
    - Let's try the Licenses assignment once again now that the users location has been specified for that account.
    - You add this to the assignment, we are doing the exact same thing we did a moment ago, only difference is this time, it's going to succeed.
  - Go ahead and just accept that and go back to Jen Hill's licenses and let's click Refresh
    - You might have to do that a couple of times, but now we see, that the license has been assigned to that user.


Banned Password Lists
  - IT administrators and cloud technicians are well aware of the importance of complex and strong passwords.
    - But we can also configure in Azure Active Directory a banned password list
    - So passwords that we absolutely do not want to allow users to use
    - To do this, we can go to Azure Active Directory, within which, in the navigation bar, we can then click on Security.
  - Then we can drill down into Authentication methods. And finally, Password protection. Now we're interested in the Custom banned passwords.
    - Currently, the enforcement of the custom list is set to, No
    - So the Custom banned passwords list area, the field down below is gray, we can't get into it.
    - We will have to turn that on so we are going to choose Yes.
  - This is where we can start entering banned passwords
    - Each of the banned passwords is going to go on its own unique line
    - Basically, you might include things that might commonly be used by users
    - That might include common password variations, or in this case, the company name, we don't want that to be used at all
    - What we're doing here, is specifying text that cannot be used as part of the password.
  - That doesn't have to be an exact match. And variations, so using the letter O instead of a zero or an S instead of a $
    - Those variations are already considered based on what you put in the list
    - So it reduces how many items you have to place in here, because really, you are limited to 1,000 lines or 1,000 custom banned passwords
    - It's also case insensitive, meaning here we've got a variation of Quick24x7
    - It doesn't matter if it's uppercase or lowercase q, both will be considered as being banned passwords
    - Once we've added all of my entries, we can then go ahead and click Save
    - After a moment we can see we have a message, it saved our password protection policy.
  - Bear in mind, it might even take a few hours before this is in effect
    - Before users are not allowed to use variations of items in the Custom banned password list.


Azure AD Licensed Features
  - For Microsoft Azure and Office 365, you have to acquire the appropriate software licenses
    - And then assign them before users can reap the benefits of having acquired those licenses.
  - So they get functional, they can do stuff in the cloud. So we can do this at the Azure AD tenant level
    - For example, here on the portal we are going to click Azure Active Directory.
  - We are going to go into, well, actually let's go into Users first, because you can also do licensing at the User level
    - When we are looking at my list of users, for example, if we click on a user, let's say Sharon here.
  - We can't see any licenses or license assignments for that individual. No license assignments found
    - We could click the add Assignments button and go through that motion.
  - However, if we go back here in the breadcrumb trail in the upper left to my Azure AD tenant
    - Notice that we also have Licenses at this level, at the Azure AD directory level
    - When we go on the Licenses there, we have a number of options that are available.
  - What we are going to do is click Manage your purchased licenses
    - When we do that, we'll see any purchased license down below
    - It might be purchased or it might be a try, it might be a trial type of license.
  - We can see how many are assigned, that would be assigned to users, how many are available, and how many will expire soon
    - When we click Try / Buy at the top, here we get some samples or free trials.
  - In this case for ENTERPRISE MOBILITY+ SECURITY E5
    - We have a More information link to learn about that, we also have AZURE AD PREMIUM P2, More information, Free trial
    - We've also got a link here where we could view the Purchase services catalog online to purchase additional license items here
    - For example, if we go under Free trial for ENTERPRISE MOBILITY+ SECURITY E5, which gives us a lot of extra options, as it says
    - It gives us solutions to address BYOD and SaaS challenges. And it says, in addition to giving you the Azure AD Premium P2 options
    - You also get Microsoft Intune for a cloud based mobile device management, Azure Rights Management, and so on
    - Once you've read about this offering that you're interested in, if it's a free trial that you've not yet used, you can try to activate it
    - If you've already used it then it will say so.
  - Otherwise, you'll be able to activate it at least once here
    - If we do not see it in the list? It's just a refresh issue, let's go back to Licenses | Overview
    - Go to Manage your purchased licenses, if you still don't see it, just go ahead and sign out of your web browser session.
  - Close your browser, come back in, and navigate back to your tenants licenses, and you'll be able to see it here
    - If we were to go back, let's say back into my tenant, you can also go into your Licenses, and you'll also see the same thing under All products.
  - We can now see what we started off with. Azure Active Directory Premium P2 and Enterprise Mobility + Security E5
    - Which we've just activated in terms of a free trial. And none are Assigned. However, there are 250 Available.
  - What we could do, for example, say, okay, we want to assign this stuff
    - We are going to go in our Active Directory Premium, and can see we've got one licensed user
    - We want everyone to be licensed to take advantage of this feature set.
  - We can click the add Assign button up at the top and here we could choose Users and groups
    - Maybe we'll choose my existing dynamic group called All Enabled Users, which contains all enabled accounts in Azure AD, we created that previously.
    - We'll just go ahead and do the assignment. And it says, okay, it's been scheduled for processing.
  - At some point we'll be able to come back and refresh this and see the users that are affected
    - We can do the same thing for other licensed products like Enterprise Mobility
    - Just go ahead and turn that on, and we going to click add Assignment.
  - Again we'll just select my existing All Enabled Users dynamic group, go ahead and assign that
    - We are going to get the same type of message, License assignment has been scheduled, okay.
  - It's just a matter of waiting and coming back, a little bit later to take a look at this
    - After a moment of refreshing, we'll see all of the users that have been assigned this license.
  - Now notice our original user, Jen Hill, is listed here with a Direct assignment
    - Although, because she's also part of the All Enabled Users group, she Inherited it again
    - But the other users are listed only as Inherited through being a member of the All Enabled Users group
    - Let's look at this from the user perspective, just for fun. How about we pick on Lucas Brenner?
    - We are going to go back to our tenant and we are going to go back to my list of users.
    - We will also open up Lucas Brenner.
  - Because we can go to the individual user, it could also be a group for that matter
    - But anyway, we can look at the Licenses blade for that user and we can see which products have been assigned.
  - We can see both the Azure Active Directory Premium P2 and Enterprise Mobility + Security E5 have been assigned to this user
    - We can see how that happened, it was inherited by being a member of the All Enabled Users group.
