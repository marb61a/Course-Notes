                    AZ900 Microsoft Azure Cloud Fundamentals 2021
                    Course Notes Part 53


Create an Azure Dashboard (Cont)
  - We also going to search up let's say Events
    - We are interested in storage account events, so there we've got a tile for it and just add that
    - That one requires configuration, so to click Configure tile
    - In this case it needs to know the storage account of interest so select that and then click Apply
    - Once I'm happy with this and assuming that that's everything we need, we are happy, wecan then click Done customizing up at the top
  - Any time that we come back into the portal, we can simply go to Dashboard
    - If we've got more than one, we can switch back and forth between them from the selector list
  - Now we've got a list of all of my resources for quick access to things like virtual machines 
    - And anything else we care to administer through that tile
    - We've also got Users and groups, essentially these are like shortcuts but it's very convenient
    - And we've also got the Activity log for my storage account
    - In this case we would have to, perhaps, choose a different time span that would show me more events.
  - But in the end, what we're trying to do here is take the things that we administer most often in the portal and place them together for convenience
    - The cool thing about this is you can even go full screen, so it really does serve as your primary management pane here in Azure.


Azure Cost Management
  - Everybody is always interested in saving money, whether it's personally or within the organization
    - There are some things to bear in mind with Microsoft Azure that can actually save us money
    - So Azure Cost Management means that we've got a monthly operational expense through cloud computing that we can manage properly
  - That's what we're going to focus on here. It can facilitate budgeting, so you know what to expect for costs of your usage of Azure Cloud services
    - We can also configure billing alerts, so that we get a notification once we get to a certain threshold that might be a warning flag about excessive costs
    - We can even set spending limits. We might even go ahead and tag resources
    - Tagging a resource means that you are adding extra data, metadata to an Azure resource, such as assigning it to a department or a project
  - You might do that for billing purposes, so you can look at costs organized by a tag such as by project or by department
    - We can also make use of the Azure Pricing Calculator
    - This one's a great one to figure out what your costs will be to help you with your budgeting
    - Because the first thing you do is add the Azure resource types you're interested in
    - Let's say it's Azure SQL database and also some infrastructure as a service virtual machines
  - You fill in those details for those types of resources, and finally, you can view a cost estimate. So you have a general sense of what you're looking at. And of course, that would depend on how long you keep things running. Shutting things down especially databases is important when they're not needed to save on costs. So what are some best practices? One would be to configure virtual machine automatic shutdown. You can do that in the properties blade for a virtual machine.
Another is to review VM sizing. Remember that the sizing for a virtual machine really details its horsepower. The number of virtual CPUs allocated, the amount of RAM, and so on. And so you might realize over time that you've over allocated those types of resources for one virtual machine compared to the workload it's running. And so you might be able to scale back on the number of virtual CPUs or RAM.
That can be a bit of a balancing act that you'd want to do over time, but it is an important item to inspect. If we're using auto-scaling, we want to bear in mind that auto-scaling isn't just for scaling out or adding virtual machines under peak workloads for an app. But also, we can configure scaling in when things slow down. We might even consider the use of virtual machine reserved instances. Reserved instances are an option for cost savings in Microsoft Azure.
So what this means is, ahead of time, you can reserve future capacity for the use of virtual machines or Azure SQL database as examples. In either for one year or three years, and when you pay upfront for that much time, you get it at a great discount compared to if you weren't reusing VM reserved instances. Pictured on the screen, we can also see the Azure cost advisor, and here are some recommendations for it. So notice in the bottom left, we can click on Advisor here in the Azure Portal in the navigator.
And then we can click on Cost in the Properties blade, and that's what we're looking at here, and it has a recommendation. It's a medium impact recommendation here but it does say that we can delete a public IP address that isn't associated with anything. Well, that makes sense, why would you want to consume a public IP address in Azure that isn't even being used. Unless that's only temporarily not being used. And from here, we could see, over on the far right, the potential yearly savings, which here shows up as approximately US $68.


Azure Pricing Calculator
  - Your company's use of Azure cloud computing services needs to be monitored carefully to make sure that costs are within specific limits
    - For budgeting purposes, we can also use the Azure pricing calculator to get a really solid idea of what we might be looking at for costs ahead of time
    - We've searched up pricing calculator on the Internet, which brought me to this page
  - Where I'm looking at the Products tab, and on the left I've got a bunch of different Azure service offerings like Compute, Networking, Storage, Web, Containers, Databases and so on. Those are categories of items that I can add that I can start getting pricing costs or estimates on. So for example, if I go to Compute, I could see things like Virtual Machines. That also showed up under Featured. It doesn't matter which one you go to to select, in this particular case, Virtual Machines.
When I select Virtual Machines, I get a little icon of a calculator. And it says that Virtual Machines was added, which means it was added down below.
And I can see here it's filled in some values but I can change them to suit my budgetary needs. So for example, which region? Well, I plan on deploying some of my stuff in the Canada East region. And I'm talking not about Windows but Linux, and I'm going to talk about CentOS as the distribution using the Standard TIER. And then of course, I can choose the INSTANCE types. So the sizing related to this which determines the number of virtual CPUs, the amount of RAM and so on.
Now once I've done that, as I scroll further down, I can determine whether I'm using Pay as you go. Or I'm going with a reserved instance where I can pay ahead of time for 1 or 3 years of usage, which results in cost savings. Then I determine how many virtual machine instances and how many hours I suspect that they will be running. Because it says here Virtual Machines are billed on a per-second basis.
Now this is all on a per-month basis. So what I could do is even say, well, let's say the number of days I would have this running, because I might be using it for development testing of some kind, would be 8 on a monthly basis. As I start adjusting these, the price over here on the right changes. Now we've got US dollars listed here as the currency, and it's $10.75. But if I were to increase the amount of virtual machine instances, notice that the pricing is changing.
Then down below, I can determine, well, okay, what's the disk configuration for those virtual machines? So we can determine the amount of data Disks, the anticipated amount of Storage transactions. And again, we can finally see our Sub-total at the very bottom.
But what about other types of items besides just virtual machines. So let's say we want to get some pricing information related to Azure SQL Database. So I can choose the Databases category. I'll click on Azure SQL Database, it gets added. And down below, if I go past my virtual machine stuff, I'll see the Azure SQL Database, okay.
So once again, which region do you think you'll deploy this in? Is it going to be a Managed Instance or just a Single Database? I'm going to leave it on Managed Instance. I've got a lot of details specific here to, in this case, Azure SQL Database. I can choose the INSTANCE type. And down below, the Billing Option, Pay as you go or reserved billing.
Now, you want to be careful with this one because look at the pricing. We're at $1,600 a month in US dollars. And that's because we're talking about running instances every hour of the month, and that's only one instance. Databases can cost a lot, you want to make sure you shut these things down when they aren't being used. But let's say that we suspect we only really want to use this about 9 hours a month. Well, then, now we've got better pricing.
And as we go further down, we can determine Storage and the Support type. And finally, we've got our monthly bill total down here, which, of course, is relative to not just the cost for Azure SQL Database but also our cost up above for our compute through virtual machines.
So you see how we can continually add various types of Azure service offerings that we anticipate we will use, and how we will use them, to start getting a sense here of what kind of pricing that we would be looking at. Notice here that we've also got an Export option. So you can download this information and your estimate as an Excel spreadsheet.
Or you can save it as an estimate that you can access when you log on by going up to the very top and going to the Estimates tab. Either way, this is a great tool so that you can start planning your budgets accordingly for your usage of Azure services.


Azure TCO Calculator
  - Search the Internet for Azure Total Cost of Ownership Calculator, you'll easily arrive at this page
    - Where we've got three steps that we must complete in order to determine what kind of cost savings can be achieved 
    - By migrating what's currently running on-premises into the cloud
  - In step 1, we have to define our workloads. So I'm going to scroll down, and here I can add workloads related to servers. And I can add multiple workloads, whether we're using Windows or Linux or some kind of web app server. I can leave it on Windows and Linux and currently we might have, let's say, 3 physical servers. So I can specify those details running Windows.
I can determine the number of processors per server. Well, let's say they've each got 2, and each of those has 2 cores. I can also specify the amount of RAM. These might currently have 8 gigs of RAM. So I can keep adding server workloads based on what I'm currently running on-premises.
Because what it's going to do is try to find the equivalent match in the Azure cloud. And then we can see how long we'll take to realize a cost savings as part of our TCO, our total cost of ownership. We can also add database information, I've already added some database information here. In this case, SQL Server, and I've also determined the destination in the cloud to be SQL Database Managed instances. So we can continue to add database workloads here.
You can also add storage workloads. Here I have specified that we've got a storage area network running SSD, about 500 gig currently. And I can determine how much space I would need for backup and for archiving, and the amount of performance or disk IOPS.
And then the anticipated outbound bandwidth, which I'll leave it at the default of 1 gigabyte.
When I click Next, then we've got a number of assumptions to consider. Such as whether we want Software Assurance coverage. And we could see it's broken down here by Windows Server, because that's part of the workload that we added, and also SQL Server, again, for the same reason. So we can turn any of these things on or off. We can determine specific features like geo-redundancy, replicating to other regions in Azure.
We can then scroll down and determine what our price per kilowatt hour is in our particular location. So that it can be more accurate when it determines our cost savings over time. Because when you run things on the cloud, the space to house equipment and the electricity to power that equipment and the HVAC, the heating, ventilation, and air conditioning, is no longer your worry.
That's the problem of the cloud provider, in this case, Microsoft Azure. So we can fill in all of these fine-tune details like labor costs for having a full time physical server administrator in terms of US dollars and so on. There are a number of assumptions, but I'm going to leave them as they are, and I'll click Next.
  - Finally, we can see the amount potentially that we could save over 5 years, by migrating the specified workloads into the Azure cloud
    - As we go further down, it's graphed in a multitude of ways where we can see
    - For instance, the on-premises cost as a blue line here versus the green line
    - Ocourse, like any good investment, it takes time to realize more savings
  - As we go further down, we can see the information presented in different ways
    - Such as the total on-premises costs over 5 years versus the total Azure cloud computing cost for those specified workloads over 5 years
    - All of this stuff is listed in a variety of ways, very valuable information
    - Also at the bottom, we've also got the option of clicking Download
    - When you do that, you get a printing option where I might choose to Save as PDF.
  - That way we have a record of this generated TCO report
    - So we can just go ahead and save that and peruse it at my leisure
    - At this point, we now have a sense based on the supplied workload information 
    - Of what kind of total cost of ownership we will be looking at over time, by migrating on-premises workloads into the Azure cloud


Configure Billing Alerts
  - Some Azure services like Managed Azure SQL databases can cost a lot of money if you keep them running all month
    - What we can do then is configure billing alerts so that when the amount of our bill gets to a certain point
    - Somebody gets notified before it gets too out of control
    - To set this up the first thing we are going to do here in the Azure portal is to search for our subscriptions then select our subscription
  - On the right, we are going to click Manage which opens up another browser window
    - This has taken us to a location where we can actually manage the details related to that specific subscription, including billing alerts
  - If you havve not already enabled alerts
    - You can go to preview features where you'll see preview features including the Billing Alert Service
    - If you've not signed up for, you can go ahead and sign up for
    - We are just going to go back into my subscription and click on Alerts
    - Any existing alerts that might have been created will be shown but we would click Add alert here to add a new one
  - Here, we are going to call this alert name Too much and when the billing total is at $500 spent
    - Depending on your account and your subscription, the unit of measurement, or the currency, will vary here, in my case it's US dollars
    - We can specify an email address here.
  - We can specify an email recipient or two that will get a notification when we've got to that point
    - Then go ahead and click Save so you can add a billing alert to responsibly manage your monthly Azure charges


Azure Support Plans
  - Microsoft Azure support plans are useful because they can provide your organization with help 
    - When certain problems arise with the use of Azure cloud computing services
    - And we can breakdown the support plans into two general categories
    - They would be development versus production workloads
    - Items that factor into which support plan you might select for your organization would include the degree of technical support, the response time.
  - Do we have to wait one week or one hour to get a response when we have an issue? 
    - Then, operations support on the planning and the use of Azure services, and training options
    - The Azure support plans begin with Basic, followed by Developer, followed by Standard, after which we have Professional Direct, and finally, Premier
  - What happens is with each level of support, so starting with Basic all the way down to Premier, each plan gets successfully more expensive
    - That's because more support options are made available
    - For example, with the Azure Basic support plan, there is no tech support
    - If all you're doing is evaluating Azure, or you have technicians that are very used to working in Azure already for a testing environment
    - You might even stick with Basic if you don't need any support at all.
  - Then with the Developer Azure support plan, tech support is made available during business hours
    - But compare that to Standard, where there is 24/7 tech support
    - And even as quick as one hour response times for any issues that might pop up
    - Professional Direct is also something that's available if you need Azure technicians to help you with your planning of your Azure architecture
    - Finally, we've got Premier, Premier also allocates a designated Azure IT technician from Microsoft when you have incidents


Submit an Azure Support Ticket
  - There isn't an infinite amount of resources available at least by default to Azure cloud customers
    - We've pulled up the Azure subscription limits and quotas document
    - We can see that there are limits for example the number of virtual machine course per subscription per region
  - Or things like the amount of storage account per region per subscription
    - If you plan on potentially exceeding these, then you can ask for an increase beyond the default limit
    - We can do that here in the Azure portal, by going to our question mark help icon in the bar
    - And choosing Help and Support where we can submit a support request
  - Of course, you could also submit a support request for numerous other reasons, so is it related to Azure?
    - Yes, and here it could be related to billing 
    - Or what we're just talking about now service and subscription limits
    - Or subscription management, or it could be a technical question or issue.
  - Here we'll choose service and subscription limits and specifically 
    - For example say I'm interested in going beyond the 200 storage account quota per region per subscription
    - We will choose storage quota and we'll click the Next button at the bottom, we'll then have to provide details
  - We will just fill in some sample text at this point
    - We could even upload a file perhaps a screenshot related to something that we have encountered or plan on doing
    - Then down below we can determine what the severity is to the organization, the preferred contact method
    - We can also determine, notice that when we choose Phone as well we can determine that same information
  - The response hours here is set to business hours but that will vary depending on your support plan in Azure 
    - And the language that we wish to be contacted in
    - As we go down below, there's more contact information that can be specified
    - Once we filled all this in, we can see that we will have support requests that will show up under the All support requests view
    - Of course, we haven't submitted any specifically recently, so we are not going to see any new ones
    - But here we can take a look at the time frame and we can also check the status of any support requests that might have been submitted in the past
  - Having problems in Azure is a rarity, so it shouldn't be often that you need to submit an Azure support request ticket
    - But if you do need to do it, you now know how to do it through the portal.
                    
